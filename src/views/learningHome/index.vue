<template>
  <q-header reveal class="bg-white text-black" height-hint="98">
    <q-toolbar>
      <div class="row" style="width:100%;">
        <div class="col" style="font-size: 20px;">
          <b>λ…ν•΄νΈλ μ΄λ‹</b>
        </div>
        <div class="col-6">
        </div>
        <div class="col" style="text-align: right;">
          <q-icon :name="$q.fullscreen.isActive ? 'fullscreen_exit' : 'fullscreen'" @click="$q.fullscreen.toggle()"
            size="30px" />
          <q-icon name="o_notifications" size="30px" style="margin:0 0 0 20px;" />
          <q-icon name="o_settings" size="30px" style="margin:0 20px;" />
          <q-icon name="o_exit_to_app" size="30px" :onclick="logOut" />
        </div>
      </div>
    </q-toolbar>
  </q-header>
  <q-drawer class="bg-grey-2" show-if-above style="border-radius: 30px;">
    <q-list padding>
      <router-link to="/learninghome">
        <div class="menu-item">
          <q-icon name="home" size="35px" style="margin-right: 10px;"></q-icon> ν™
        </div>
      </router-link>
      <router-link to="/knowledgemap">
        <div class="menu-item">
          <q-icon name="menu_book" size="35px" style="margin-right: 10px;"></q-icon>μ§€μ‹λ§µ
        </div>
      </router-link>
      <router-link to="/incorrectnote">
        <div class="menu-item">
          <q-icon name="content_paste" size="35px" style="margin-right: 10px;"></q-icon>μ¤λ‹µλ…ΈνΈ
        </div>
      </router-link>
      <router-link to="/analysisreport">
        <div class="menu-item">
          <q-icon name="leaderboard" size="35px" style="margin-right: 10px;"></q-icon>ν•™μµ λ¶„μ„ λ¦¬ν¬νΈ
        </div>
      </router-link>
      <router-link to="/mypage">
        <div class="menu-item">
          <q-icon name="person" size="35px" style="margin-right: 10px;"></q-icon>λ§μ΄ νμ΄μ§€
        </div>
      </router-link>
      <router-link to="/test">
        <div class="menu-item">
          <q-icon name="person" size="35px" style="margin-right: 10px;"></q-icon>ν…μ¤νΈ νμ΄μ§€
        </div>
      </router-link>
      <!-- <div class="menu-item">
          <q-icon name="exit_to_app" size="35px" style="margin-right: 10px;"></q-icon>Exit
        </div> -->
    </q-list>
  </q-drawer>
  <q-page-container>
    <div class="row" style="width:100%;  padding-left: 20px;">
      <div class="col-6 home-content-box">
        <div class="text-h5">
          <b>
            μ•λ…•ν•μ„Έμ”, λ€κµλ‹
          </b>
        </div>
        <div class="text-h5" style="color: #547cfa;">
          <b>
            μ¤λμ ν•™μµμ„ μ§„ν–‰ν•΄ μ£Όμ„Έμ”.
          </b>
        </div>
        <br />
        <q-item clickable class="bg-grey-2">
          <q-item-section side>
            <q-avatar rounded size="30px">
              <img src="https://cdn.quasar.dev/img/avatar.png" />
            </q-avatar>
          </q-item-section>
          <q-item-section>
            <q-item-label>λ‚΄μΌμ€ <b>μ¶”μ²ν•™μµμ΄ μμ •</b>λμ–΄μμµλ‹λ‹¤. <span caption>2022-10-18</span>
            </q-item-label>
          </q-item-section>
          <q-item-section side>
            X
          </q-item-section>
        </q-item>
        <br />
        <div>
          μ¤λμ ν•™μµ
        </div>
        <br />
        <q-card>
          <q-card-section>
            <div class="row ">
              <div class="text-h5">
                <b>
                  Lesson <span style="color:#547cfa;font-weight: 600;">49</span>
                </b>
              </div>
              <q-space />
              <router-link to="/corereading">
                <q-btn>ν•™μµν•κΈ°</q-btn>
              </router-link>
            </div>
            <q-linear-progress rounded size="15px" :value="progress" class="q-mt-sm" />
            <br />
            <div>ν•™μµλ‚΄μ©</div>
            <div class="lesson-box">
              <div class="row">
                <div class="col-4 self-center" style="text-align: center;">
                  <div class="text-h5">
                    λ¬Έν•™
                  </div>
                </div>
                <div class="col">
                  <q-chip>ν„λ€μ‹</q-chip>λ‹¬μ½¤ν•κ³  κΈ°λ¶„ μΆ‹μ€ κΏ<br />
                  <q-chip>ν„λ€μ‹</q-chip>λ‹¬μ½¤ν•κ³  κΈ°λ¶„ μΆ‹μ€ κΏ
                </div>
              </div>
            </div>
            <br />
            <div class="lesson-box">
              <div class="row">
                <div class="col-4 self-center" style="text-align: center;">
                  <div class="text-h5">
                    λΉ„λ¬Έν•™
                  </div>
                </div>
                <div class="col">
                  <q-chip>ν„λ€μ‹</q-chip>λ‹¬μ½¤ν•κ³  κΈ°λ¶„ μΆ‹μ€ κΏ<br />
                  <q-chip>ν„λ€μ‹</q-chip>λ‹¬μ½¤ν•κ³  κΈ°λ¶„ μΆ‹μ€ κΏ
                </div>
              </div>
            </div>
          </q-card-section>

        </q-card>
      </div>
      <div class="col-6">
        <div class="column" style="height: calc(100vh - 50px)">
          <div class="col-2">
            <div class="row">
              <div class="col self-center" style="text-align: center;">
                <div class="lesson-box">
                  λ λ²¨
                  <div>
                    Lv.2
                  </div>
                </div>
              </div>
              <div class="col self-center" style="text-align: center;">
                <div class="lesson-box">
                  μ§€κΈκΉμ§€ μ½μ€ μ§€λ¬Έ
                  <div>
                    52κ°
                  </div>
                </div>
              </div>
            </div>
            <div class="text-h6" style=" padding:0px 20px;">
              λ€κµλ‹μ ν•™μµμ ν•μ€?
            </div>
          </div>
          <div class="col-2">
            <div class="lesson-box self-center" style="text-align: center;">
              <div class="text-h6" style="">
                π
              </div>
              <br />
              <div class="text" style="">
                "λΉ„λ¬Έν•™ν•"
              </div>
            </div>
          </div>
          <div class="col">
            <barChart />
          </div>
        </div>
      </div>
    </div>
  </q-page-container>
</template>

<script setup>
import { DialogStore } from "@/store/modules/dialog";
import { GlobalStore } from '@/store';
import barChart from "@/components/chart/barChart.vue";
import { useRouter } from "vue-router"
import { ref, onMounted, computed } from 'vue';
import { useQuasar } from 'quasar';

const store = DialogStore();
const globalStore = GlobalStore();
const router = useRouter();
const value = 0.2;
const alert = ref(null);
const progress = 0.3;

const $q = useQuasar();

const chartText = `λ‹¤λ¬Έν™”ν•™μµμμ κµμ΅μ„ μ„ν•΄μ„λ” ν•κµ­μ–΄ κµμ΅μ΄ μ΄λ£¨μ–΄μ Έμ•Ό κΈ°μ΄ν•™μµ λ¶€μ§„κ³Ό ν•™μµκ²°μ†μ„ λ©΄ν•  μ μμΌλ―€λ΅ ν•κµ­μ–΄λ¥λ ¥ν–¥μƒμ΄ μ°μ„  κ³Όμ μ΄λ©° μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄μ„λ” λ‹¤λ¬Έν™”ν•™μµμμ ν•κµ­μ–΄ κµμ΅μ„ μ„ν• κµμν•™μµ λ°©λ²•κ³Ό κµμ¬ κ°λ°μ΄ ν•„μ”ν•λ‹¤.
  λ¬Έν•™μ§€λ¬Έμ„ ν™μ©ν• μ¤‘ν•™κµ ν•κµ­μ–΄ κµμ΅μ€ λ‹¤λ¬Έν™”ν•™μµμμ ν•™μµλ™κΈ°μ™€ ν¥λ―Έλ¥Ό μ λ°ν•΄μ£Όλ” ν¨κ³Όμ μΈ κµμν•™μµ λ°©λ²•μ΄λ‹¤.κ°€μΉ μλ” λ¬Έν•™ μ‘ν’μ„ μ„ λ³„ν•μ—¬ μ¤‘ν•™μƒμ κ°€μΉκ΄€ ν•μ„±μ— λ„μ›€μ„ μ£Όλ” λ‹¤λ¬Έν™” κ΄€λ ¨ λ¬Έν•™μ§€λ¬Έμ„ μ„ μ •ν•κ³ , μ‘ν’μ„ μ½κ³  μ¤‘μ”ν• λ‚±λ§μ λ»μ„ μµν€ μ–΄νλ ¥μ„ κΈΈλ¬μ£Όμ–΄, λ¬Έμ¥ μ†μ—μ„ λ‹¨μ–΄μ λ‹¤μ–‘ν• μλ―Έλ¥Ό μ΄ν•΄ν•μ—¬ κΈ€μ λ‚΄μ©μ„ νμ•…ν•λ” κΈ°μ΄ ν•κµ­μ–΄ κµμ΅μ„ μ‹¤μ‹ν•λ‹¤.
  μ΄μ™€ κ°™μ€ ν•κµ­μ–΄ κµμ΅μ€ λ¬Έν•™ μ‘ν’μ„ κ°μƒν•κ³  λ‚΄λ©΄ν™”ν•μ—¬ λλ‚μ„ λ§ν•κ³  κΈ€λ΅ ν‘ν„ν•λ” κ³Όμ • μ†μ—μ„ κ°€μΉκ΄€ κµμ΅κΉμ§€ μ•„μΈλ¬ κ°€λ¥ν•λ©°, λ¬Έν•™μ§€λ¬Έ μ†μ— λ‹΄κΈ΄ μ΄μ•ΌκΈ°μ™€ κ·Έλ¦Όμ„ ν†µν•΄ λ‚λΌλ§λ‹¤ λ‹¤μ–‘ν• λ¬Έν™”λ¥Ό λΉ„κµν•¨μΌλ΅μ¨ μ‰½κ³  μ¬λ―Έμλ” λ‹¤λ¬Έν™” κµμ΅μ„ λ³‘ν–‰ν•  μ μλ‹¤.`;
const visibleModal = computed(() => store.visibleModal);
alert.value = false;

const openAlert = () => {
  alert.value = true;
}


const openDialog = () => {
  store.openModal(true);
};

const logOut = () => {

  globalStore.setToken(undefined);
  globalStore.setReToken(undefined);
  router.push('/login')
}


</script>

<style scoped lang="scss">
.menu-box {
  background-color: lightgrey !important;
}

.menu-item {
  font-size: 25px;
  display: flex;
  margin: 20px;
  padding: 10px;
}

.menu-item:hover {
  background-color: gray;
  border-radius: 30px;
  color: white;
}

.home-content-box {
  padding: 10px;
}

.lesson-box {
  background-color: #f7f7f7;
  border-radius: 20px;
  padding: 20px;
  margin: 10px;
}
</style>
